<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='images/favicon.png')}}">
  <title>{% block title %}{{ settings.SETTING }}{% endblock %}</title>

<!-- ============================================================ working on chart -->
<script src="{{ url_for('static', filename='charting_library/charting_library/charting_library.standalone.js') }}"></script>

<script src="{{ url_for('static', filename='charting_library/datafeeds/udf/dist/polyfills.js') }}"></script>

<script src="{{ url_for('static', filename='charting_library/datafeeds/udf/dist/bundle.js') }}"></script>
      
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <!-- Bitquery icon-->
        <link rel="icon" href="https://test.bitquery.io/wp-content/uploads/2020/08/favicon.png" />
       
        <link rel="apple-touch-icon" href="https://test.bitquery.io/wp-content/uploads/2020/08/favicon.png"/>

       
        <!-- <link rel="manifest" href="%PUBLIC_URL%/manifest.json" /> -->


<!-- =============================================================== -->


	<link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet"> 
</head>
<body class="slideshows hold-transition hulk-dark">
  
  <!-- Preloader Start -->
  <div id="preloader">
    <div class="hulk-load"></div>
  </div>
  <!-- <div class="wrapper">      -->
  <header>
   
    <div class="container-full-width">
        <div class="hulk-header blur">
            <div class="d-flex">
                <div class="col-xl-3 col-lg-3 col-md-3 col-sm-4">
                    <div class="row">
                        <div class="col-xs-2">
                            <a href="index.html">
                            <div class="hulk-logo">
                              <!-- <img src="images/logo.png" alt=""> -->
                              <h2>HulkChart</h2>
                            </div>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-xl-6 col-lg-7 col-md-6 col-sm-8 d-none d-lg-flex">
                    <ul class="hulk-heading-menu main-menu">
                        <li>
                          <div class="iconh-effect favourite-icon favourite i-flex">
                            <i class="far fa-heart margin-middle"></i>
                          </div>
                        </li>
                        
                        <li><a href="market.html" class="menu-coin"><img src="{{ url_for('static', filename='images/coins/maticpoly.png') }}" alt=""> MaticPoly</a></li>
                        <li class="iconh-effect"><a href="marketcap.html">$ <strong >1,37</strong><span class="percent danger"><i class="fas fa-sort-down"></i> 2.76%</span></a></li>
                        <li><a href="#" class="hulk-mega-dropdown-toggle"><i class="fas fa-search"></i> Search Market</a>
                            
                        </li>
                    </ul>
        
                    <ul id="hulk-mega-dropdown" class="hulk-coin-menu d-none d-sm-none d-md-none d-lg-flex coin-preview">
                      <li class="">
                        <a href="#">
                          <div class="coin_icon">
                            <div class="main-menu">
                              <div class="img margin-middle">
                                
                                <img src="{{ url_for('static', filename='images/favicon.png') }}" alt="">
                              </div>
                            </div>
                            <div class="coin_description">
                              <small>Tomorrow 24h</small>
                              <h6><strong>161,235 </strong><span class="percent danger"><i class="fas fa-sort-down"></i> <small> 2.76% </small></span></h6>

                            </div>
                          </div>
                        </a>
                      </li>
                      
                    </ul>
                </div>

                <div class="col-xl-3 col-lg-2 col-md-3 d-none d-sm-none d-lg-flex">
                      <div class="col-lg-12">
                        <ul class="hulk-settings-menu coin-selector d-flex">
                         
                          <li class="main-menu">
                          <div class="btn-group btn-group-toggle" data-toggle="buttons">
                            <label class="btn btn-outline-secondary bt-selector active">
                              <input type="radio" name="options" id="usd" autocomplete="off" checked=""> USD
                            </label>
                            <label class="btn btn-outline-secondary bt-selector">
                              <input type="radio" name="options" id="eth" autocomplete="off"> ETH
                            </label>
                          </div>
                         </li>
                         
                        <li>
                          <div class="margin-middle iconh-effect">
                            <i class="fas fa-wallet"></i>
                          </div>
                        </li>
                      

                        <li>
                          <div class="margin-middle iconh-effect">
                            <i class="fas fa-cog"></i>
                          </div>
                        </li>
                        
                      </ul>
                      </div>
              </div>
                <i class="menu-toggle pe-7s-menu d-xs-block d-sm-block d-md-block d-lg-none"></i>
              </div>
              
                
              

              <ul class="hulk-mega-dropdown-menu-block blur">
                <!-- inner menu -->

                <!-- search -->
                <div class="input-group search-input">
                  <div class="input-group-prepend margin-middle">
                    <span class="search">
                      <i class="fas fa-search"></i>
                    </span>
                  </div>
                  <input type="text" class="form-control" placeholder="Type your Search ..." id="searchbar" name="search" onkeyup="get_onchange_value(this.value)">
                    <div class="input-group-append">
                      <a href="" class="iconh-effect d-flex">
                        <i class="fas fa-arrow-down margin-middle"></i>
                      </a>
                    </div>
                    <div class="input-group-append">
                      <a href="" class="iconh-effect d-flex">
                        <i class="fas fa-arrow-up margin-middle"></i>
                      </a>
                    </div>
                    <div class="input-group-append dismiss-bt">
                        <a href="#" class="iconh-effect hulk-mega-dropdown-toggle d-flex" onclick="empty_search()">
                          <i class="pe-7s-close margin-middle"></i>
                        </a>
                    </div>
                </div>
                <!-- search -->

                <!-- inner menu -->
                <div class="row">
                  <div class="col-12">
                    <div class="card card-dropdown p-3">

                      <ul class="nav nav-pills mt-3" id="myTab" role="tablist">
                        <li class="nav-item">
                          <a class="nav-link active" id="topvolume-tab" data-toggle="tab" href="#topvolume" role="tab" aria-controls="topvolume" aria-selected="true">Top Volume</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="favorites-tab" data-toggle="tab" href="#favorites" role="tab" aria-controls="favorites" aria-selected="false">Favorites</a>
                        </li>
                        <li class="nav-item">
                          <a class="nav-link" id="wallet-tab" data-toggle="tab" href="#wallet" role="tab" aria-controls="wallet" aria-selected="false">Wallet</a>
                        </li>
                      </ul>
                      
                      <div class="tab-content mt-3" id="myTabContent">
                        <div class="tab-pane fade show active" id="topvolume" role="tabpanel" aria-labelledby="topvolume-tab">
                          <!-- top volume section -->
                            <!-- /.card-header -->
                      <div class="card-body table-responsive p-0" style="height: 300px;">
                        <table id="list" class="table table-head-fixed table-hover text-nowrap table-coins">
                          
                          <div class="d-flex justify-content-center">
                            <div class="spinner-border text-light" role="status" id="loading">
                              <span class="sr-only">Loading...</span>
                            </div>
                          </div>
                          <!-- <thead>
                            <tr>
                              <th></th>
                              <th>Name</th>
                              <th>Volume 24h</th>
                              <th>Liquidity</th>
                              <th>Price</th>
                            </tr>
                          </thead>
                          <tbody> -->
                            <!-- <tr>
                              <td><div class="iconh-effect"><i class="far fa-heart"></i></div></td>
                              <td>
                                <div class="i-flex">
                                  <div class="coin-img">
                                    <img src="{{ url_for('static', filename='images/coins/maticpoly.png') }}" alt="">
                                    
                                  </div>
                                   MaticPoly
                                </div>
                              </td>
                              <td>$300.284.039</td>
                              <td>$31.379,49</td>
                              <td>$1.00 <span class="percent danger"><i class="fas fa-sort-down"></i> <small> 2.76% </small></td>
                            </tr>
                            <tr>
                              <td><div class="iconh-effect"><i class="far fa-heart"></i></div></td>
                              <td>
                                <div class="i-flex">
                                  <div class="coin-img">
                                    <img src="{{ url_for('static', filename='images/coins/eth.png') }}" alt="">
                                    
                                  </div>
                                   ETH
                                </div>
                              </td>
                              <td>$470.284.039</td>
                              <td>$31.379,49</td> 
                              <td>$1.00 <span class="percent success"><i class="fas fa-sort-up"></i> <small> + 3.21% </small></td>
                            </tr>
                            <tr>
                              <td><div class="iconh-effect"><i class="far fa-heart"></i></div></td>
                              <td>
                                <div class="i-flex">
                                  <div class="coin-img">
                                    <img src="{{ url_for('static', filename='images/coins/btc.png') }}" alt="">
                                    
                                  </div>
                                   BitCoin
                                </div>
                              </td>
                              <td>$300.284.039</td>
                              <td>$31.379,49</td>
                              <td>$1.00 <span class="percent danger"><i class="fas fa-sort-down"></i> <small> 2.76% </small></td>
                            </tr>
                            <tr>
                              <td><div class="iconh-effect"><i class="far fa-heart"></i></div></td>
                              <td>
                                <div class="i-flex">
                                  <div class="coin-img">
                                    <img src="{{ url_for('static', filename='images/coins/doge.png') }}" alt="">
                                    
                                  </div>
                                   Doge
                                </div>
                              </td>
                              <td>$300.284.039</td>
                              <td>$31.379,49</td>
                              <td>$1.00 <span class="percent danger"><i class="fas fa-sort-down"></i> <small> 2.76% </small></td>
                            </tr> -->
                            
                          <!-- </tbody> -->
                        </table>
                      </div>
                      <!-- /.card-body -->
                          <!-- top volume section -->
                        </div>
                        <div class="tab-pane fade" id="favorites" role="tabpanel" aria-labelledby="favorites-tab">
                          Favorites Content or use like a button link to another page
                        </div>
                        <div class="tab-pane fade" id="wallet" role="tabpanel" aria-labelledby="wallet-tab">
                          Wallet Content or use like a button link to another page
                        </div>
                      </div>
                      
                    </div>
                    <!-- /.card -->
                  </div>
                </div>

                
                <!-- inner menu -->
              </ul>
              <div class="screen-darken"></div>

              
        </div>
    </div>
    <div class="hulk-mobile-menu">
      <!-- mobile inner menu here     -->
        <!-- inner menu -->

        <!-- search -->
        <div class="input-group search-input">
          <div class="input-group-prepend margin-middle">
            <span class="search">
              <i class="fas fa-search"></i>
            </span>
          </div>
          <input type="text" class="form-control" placeholder="Type your Search ...">
            <div class="input-group-append">
              <a href="" class="iconh-effect i-flex">
                <i class="fas fa-arrow-down margin-middle"></i>
              </a>
            </div>
            <div class="input-group-append">
              <a href="" class="iconh-effect i-flex">
                <i class="fas fa-arrow-up margin-middle"></i>
              </a>
            </div>
            <div class="input-group-append dismiss-bt-mobile">
                <a href="" class="iconh-effect i-flex menu-toggle">
                  <i class="pe-7s-close margin-middle"></i>
                </a>
            </div>
        </div>
        <!-- search -->
      <!-- mobile inner menu here     -->
          <!-- mobile inner table menu here     -->
          
            <!-- inner menu -->
            <div class="row mt-3">
              <div class="col-12">
                <div class="card card-dropdown p-2">

                  <ul class="nav nav-pills mt-3" id="myTab" role="tablist">
                    <li class="nav-item">
                      <a class="nav-link active" id="topvolume-tab" data-toggle="tab" href="#topvolume" role="tab" aria-controls="topvolume" aria-selected="true">Top Volume</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" id="favorites-tab" data-toggle="tab" href="#favorites" role="tab" aria-controls="favorites" aria-selected="false">Favorites</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link" id="wallet-tab" data-toggle="tab" href="#wallet" role="tab" aria-controls="wallet" aria-selected="false">Wallet</a>
                    </li>
                  </ul>
                  <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="topvolume" role="tabpanel" aria-labelledby="topvolume-tab">
                      <!-- top volume section -->
                        <!-- /.card-header -->
                  <div class="card-body table-responsive p-0 mobile-table" >
                    <table class="table table-head-fixed table-hover text-nowrap table-coins">
                      <thead>
                        <tr>
                          <th></th>
                          <th>Name</th>
                          <th>Volume 24h</th>
                          <th>Liquidity</th>
                          <th>Price</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                          <td><div class="iconh-effect"><i class="far fa-heart"></i></div></td>
                          <td>
                            <div class="i-flex">
                              <div class="coin-img">
                                <img src="{{ url_for('static', filename='images/coins/maticpoly.png') }}" alt="">
                                
                              </div>
                               MaticPoly
                            </div>
                          </td>
                          <td>$300.284.039</td>
                          <td>$31.379,49</td>
                          <td>$1.00 <span class="percent danger"><i class="fas fa-sort-down"></i> <small> 2.76% </small></td>
                        </tr>
                        <tr class="table_div_line"></tr>
                        <tr>
                          <td><div class="iconh-effect"><i class="far fa-heart"></i></div></td>
                          <td>
                            <div class="i-flex">
                              <div class="coin-img">
                                <img src="{{ url_for('static', filename='images/coins/eth.png') }}" alt="">
                                
                              </div>
                              ETH
                            </div>
                          </td>
                          <td>$470.284.039</td>
                          <td>$31.379,49</td> 
                          <td>$1.00 <span class="percent success"><i class="fas fa-sort-up"></i> <small> + 3.21% </small></td>
                        </tr>
                        <tr class="table_div_line"></tr>
                        <tr>
                          <td><div class="iconh-effect"><i class="far fa-heart"></i></div></td>
                          <td>
                            <div class="i-flex">
                              <div class="coin-img">
                                <img src="{{ url_for('static', filename='images/coins/btc.png') }}" alt="">
                                
                              </div>
                              BitCoin
                            </div>
                          </td>
                          <td>$300.284.039</td>
                          <td>$31.379,49</td>
                          <td>$1.00 <span class="percent danger"><i class="fas fa-sort-down"></i> <small> 2.76% </small></td>
                        </tr>
                        <tr class="table_div_line"></tr>
                        <tr>
                            <td><div class="iconh-effect"><i class="far fa-heart"></i></div></td>
                          <td>
                            <div class="i-flex">
                              <div class="coin-img">
                                <img src="{{ url_for('static', filename='mages/coins/doge.png') }}" alt="">
                                
                              </div>
                               Doge
                            </div>
                          </td>
                          <td>$300.284.039</td>
                          <td>$31.379,49</td>
                          <td>$1.00 <span class="percent danger"><i class="fas fa-sort-down"></i> <small> 2.76% </small></td>
                        </tr>
                        
                      </tbody>
                    </table>
                  </div>
                  <!-- /.card-body -->
                      <!-- top volume section -->
                    </div>
                    <div class="tab-pane fade" id="favorites" role="tabpanel" aria-labelledby="favorites-tab">
                      Favorites Content or use like a button link to another page
                    </div>
                    <div class="tab-pane fade" id="wallet" role="tabpanel" aria-labelledby="wallet-tab">
                      Wallet Content or use like a button link to another page
                    </div>
                  </div>
                  
                </div>
                <!-- /.card -->
              </div>
            </div>
            <!-- inner menu -->
            
          <!-- mobile inner table menu here     -->
    </div>
</header>
<div class="wrapper">


{% block body %}

{% endblock body %}
<!-- Control Sidebar -->
<aside class="control-sidebar control-sidebar-dark">
  <!-- Control sidebar content goes here -->
  <div class="p-3">
    <h5>Title</h5>
    <p>Sidebar content</p>
  </div>
</aside>

<!-- /.control-sidebar -->

  <!-- Main Footer -->
  <footer class="main-footer">
    <!-- To the right -->
    <div class="float-right d-none d-sm-inline">
      All rights reserved.
    </div>
    <!-- Default to the left -->
    <strong>Copyright &copy; 2021 <a href="https://hulktoken.com">HulkToken</a>.</strong> 
  </footer>
</div>
<!-- ./wrapper -->

<!-- REQUIRED SCRIPTS -->
</body>
</html>
<!-- jQuery -->
<script src="{{ url_for('static', filename='js/plugins/jquery.min.js') }}"></script>

<script src="{{ url_for('static', filename='js/plugins/chart.js/Chart.js') }}"></script>

<!-- Bootstrap 4 -->
<script src="{{ url_for('static', filename='js/plugins/bootstrap.bundle.min.js') }}"></script>

<!-- AdminLTE App -->
<script src="{{ url_for('static', filename='js/plugins/adminlte.min.js') }}"></script>
<!-- Tradingview market charts -->
<script src="{{ url_for('static', filename='js/plugins/tradingview/tv.js') }}"></script>

Active Js Scripts
<!-- <script src="{{ url_for('static', filename='js/main.js') }}"></script> -->
<script src="{{ url_for('static', filename='js/active.js') }}"></script>

<script src="{{ url_for('static', filename='js/bundle.js') }}"></script>

<script>
  document.getElementById("loading").style.display = "none";

  function get_onchange_value() {
    const value = document.getElementById("searchbar").value;
    // Calling that async function
    getapi(value);
  }

  // Defining async function
  async function getapi(_val) {
    document.getElementById("loading").style.display = "block";

    const api_url = `/search_address?term=${_val}`;
    // Storing response
    const response = await fetch(api_url);

    // Storing data in form of JSON
    var data = await response.json();
    console.log(data, "DATAAAAAAAAAAAAAAAAAA");
    if (response) {
      hideloader();
    }
    show(data);
  }

  var searchList;
  // Function to define innerHTML for HTML table
  function show(data) {
    if (data.length == 0) {
      document.getElementById("loading").style.display = "none";
      document.getElementById("list").innerHTML = `<p style="color:#fff;" class="text-center">No data found!</p>`;
    } else {
      let list = 
        `<thead>
          <tr>
            <th></th>
            <th>Name</th>
            <th>Address</th>
            <th>Price</th>
          </tr>
        </thead>
        <tbody>`;
      // Loop to access all rows
      for (let r of data) {
        if (r.image.includes("https://")) {
          list +=
            `
            <tr>
              <td><div class="iconh-effect"><i class="far fa-heart"></i></div></td>
              <td>
                <div class="i-flex">
                  <div class="coin-img">
                    <img src="${r.image}" alt="${r.name}">
                    
                  </div>
                  <span onclick="get_value(this,'` +
            String(r.address) +
            `')">${r.name}</span>
                </div>
              </td>
              <td>${r.address}</td>
              <td>$${r.price}</td>
            </tr>
            `;
        } else {
          list +=
            `
            <tr>
              <td><div class="iconh-effect"><i class="far fa-heart"></i></div></td>
              <td>
                <div class="i-flex">
                  <div class="coin-img">
                    <img src="/static/${r.image}" alt="${r.name}">
                    
                  </div>
                  <span onclick="get_value(this,'` +
            String(r.address) +
            `')">${r.name}</span>
                </div>
              </td>
              <td>${r.address}</td>
              <td>$${r.price}</td>
            </tr>
            `;
        }
      }
      `</tbody>`
      // Setting innerHTML as tab variable
      document.getElementById("list").innerHTML = list;
      searchList = document.getElementById("list").innerHTML = list;
    }
  }

  // Function to hide the loader
  function hideloader() {
    document.getElementById("loading").style.display = "none";
  }

  function get_value(_val, _address) {
    var value = _val.textContent;
    document.getElementById("searchbar").value = value;
    window.location.href = 'http://127.0.0.1:4000/live_charts?address='+_address; 

    // console.log(_address, typeof _address, "ADDRESSSSSSSSSSSSSSSSSSSS");
    // // alert(typeof _address, _address, "HELLo");
    // searchFunction();

    // document.getElementById("list").innerHTML = "";
  }

  function empty_search() {
    var value = '';
    document.getElementById("searchbar").value = value;
  }

</script>
